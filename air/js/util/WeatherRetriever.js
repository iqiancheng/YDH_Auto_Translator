var WeatherRetriever={map:{"晴":14,"多云":1,"阴":4,"雾":11,"特大暴雨":9,"大暴雨":9,"暴雨":9,"雷阵雨":3,"阵雨":10,"大雨":9,"中雨":9,"小雨":9,"雨夹雪":13,"暴雪":15,"阵雪":15,"大雪":15,"中雪":15,"小雪":6,"强沙尘暴":2,"沙尘暴":2,"沙尘":2,"扬沙":5,"冰雹":8,"浮尘":1,"霾":12},imageMap:{"0":"14","1":"1","2":"4","3":"10","4":"3","5":"3","6":"13","7":"9","8":"9","9":"9","10":"9","11":"9","12":"9","13":"15","14":"6","15":"15","16":"15","17":"15","18":"11","19":"9","20":"2","21":"9","22":"9","23":"9","24":"9","25":"9","26":"6","27":"15","28":"15","29":"2","30":"5","31":"2","32":"12","33":"4","34":"4","35":"4"},retrieve:function(n,t,i,r){var f=(Util.date.parse(t)-Util.date.floor())/864e5,e=CityMap.name2weather[n],o,u;e&&(f<0||f>6||(o=Util.date.formatTime(),u=f*2,o<"18:00"&&(u+=1),i>="20:00"&&(u+=1),$.getJSON(config.urls.weather+e,function(n){var t=n.yb[f?"img"+u:"img_single"],i=n.yb[f?"img_title"+u:"img_title_single"];t==="99"&&(t="img"+(u-1));r&&r(t,i)})))},fill:function(n,t){for(i=0;i<=15;i++)$(".weather .icon",n).removeClass("weatherIcon"+i);$(".weather .icon",n).addClass("weatherIcon0");$(".weather .text",n).text("无法获取").addClass("noText");this.retrieve($(".point",n).text(),t,$(".time",n).text(),function(t,i){WeatherRetriever.imageMap[t]!==undefined&&($(".weather .icon",n).removeClass("weatherIcon0").addClass("weatherIcon"+WeatherRetriever.imageMap[t]),$(".weather .text",n).text(i).removeClass("noText"),$(".weather .text,.icon",n).hide().fadeIn("slow"))})}}